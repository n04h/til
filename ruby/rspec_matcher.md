# RSpecのマッチャについて

参考：https://qiita.com/jnchito/items/2e79a1abe7cd8214caa5

## マッチャ(matcher)とは

マッチャ（matcher）は「期待値と実際の値を比較して、一致した（もしくは一致しなかった）という結果を返すオブジェクト」のこと。

```ruby
expect(1 + 2).to eq 3
expect([1, 2, 3]).to include 2
```

`eq`や`include`がマッチャにあたります。
マッチャは自分自身に定義されている検証ルールに従って、実際の値（1 + 2 や [1, 2, 3]）と期待値（3 や 2）を比較し、ルールに合致しているかどうかを判断します。

## to / not_to / to_not

「～であること」を期待する場合は`to`を使う。

```ruby
expect(1 + 2).to eq 3
```

反対に「～ではないこと」を期待する場合は`not_to`もしくは`to_not`を使う。
英語を使ってテストを作っているときに読みやすい方を使えば良いので、日本語を使ってテストを作っているときは`not_to`などに統一するとよい。

```ruby
expect(1 + 2).not_to eq 1
# または
expect(1 + 2).to_not eq 1
```

`to`や`not_to`自体はマッチャではない。
`to`や`not_to`はマッチャの実行結果を受け取って、テストをパスさせるか否かを判断するRSpecのメソッド。

## eq

期待値と実際の値が「等しい」かどうかを検証する場合は`eq`を使う。

```ruby
expect(1 + 2).to eq 3
```

## be

`be`は等号・不等号と組み合わせて、値の大小を検証するときによく使われるマッチャ。

```ruby
expect(1 + 2).to be >= 3
```

## be_xxx (predicateマッチャ)

